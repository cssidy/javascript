<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Chapter 16</title>
</head>
<body>

<p>Hello canvas!</p>

<!--
<svg xmlns="http://www.w3.org/2000/svg">
    <circle r="50" cx="50" cy="50" fill="red"></circle>
    <rect x="120" y="5" width="90" height="90" stroke="blue" fill="none"></rect>
</svg>
-->

<canvas width="1000" height="1000"></canvas>


<script>
    /*
    const circle = document.querySelector("circle");
    circle.setAttribute("fill", "cyan")
    */
</script>

<script>
    const results = [{name: "Satisfied", count: 1043, color: "purple"},
                     {name: "Neutral", count: 563, color: "yellow"},
                     {name: "Unsatisfied", count: 510, color: "orange"},
                     {name: "No comment", count: 175, color: "silver"}];

    const cx = document.querySelector("canvas").getContext("2d");
    let total = results.reduce(function(sum, choice) {
        return sum + choice.count;
    }, 0);
    let currentAngle = -0.5 * Math.PI;
    results.forEach(function(result) {
        let sliceAngle = (result.count / total) * 2 * Math.PI;
        cx.beginPath();
        cx.arc(100, 100, 100, currentAngle, currentAngle + sliceAngle);
        currentAngle += sliceAngle;
        cx.lineTo(100, 100);
        cx.fillStyle = result.color;
        cx.fill();
    });

    cx.font = "28px Georgia";
    cx.fillStyle = "orange";
    cx.fillText("I can draw text, too!", 0, 250);

    /*
    cx.strokeStyle = "blue"
    cx.strokeRect(5, 5, 50, 50)
    cx.lineWidth = 5
    cx.strokeRect(135, 5, 50, 50)

    cx.beginPath()
    cx.moveTo(50, 10)
    cx.lineTo(10, 70)
    cx.lineTo(90, 70)
    cx.fillStyle = "crimson"
    cx.fill()
    cx.closePath()


    cx.beginPath()
    cx.moveTo(100, 900)
    cx.quadraticCurveTo(600, 100, 900, 900)
    cx.lineTo(600, 100)
    cx.closePath()
    cx.strokeStyle = "green"
    cx.lineWidth = 1
    cx.stroke()

    cx.beginPath()
    cx.moveTo(100, 900)
    cx.bezierCurveTo(100, 100, 900, 100, 500, 900)
    cx.lineTo(900, 100)
    cx.lineTo(100, 100)
    cx.closePath()
    cx.stroke()
    */


</script>

</body>
</html>